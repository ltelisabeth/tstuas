<!DOCTYPE html>
<html>
<head>
    <title>Daftar Buku</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<br>
<br>

<div>
    <h1 style="display:inline">Book</h1>

    <br>
</div>

<table class="table">
    <thead>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Title</th>
        <th scope="col">Author</th>
        <th scope="col">Number of Pages</th>
        <th scope="col">Book Types</th>
        <th scope="col">Date Published</th>
        <th scope="col"></th>
        <th scope="col"></th>
    </tr>
    </thead>
    <tbody id="hasil"></tbody>
</table>
</div>
</div>
<script>
        function getUser() {
            content = "";
            $.ajax({
                url: '/user',
                type: 'get',
                crossDomain: true,
                dataType: 'json',
                success: function (response) {
                    console.log(response);
                    $.each(response.hasil.slice(0,501), function (key,value) {
                        content += "<tr><td>" + value.id + "</td><td>" + value.title + "</td><td>" + value.author + "</td><td>" + value.totalpages + "</td><td>" + value.type + "</td><td>" + value.published +"</td></tr>";
                    });
                    $('#hasil').html(content);
                },
                error: function (response) {
                    console.log(response);
                }
            })
        }

    $(document).ready(
        function() {
            getUser();
        }
    );
</script>

</html>